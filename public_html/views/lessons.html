<h1>
    Presenze Studenti
</h1>

    <div class="agenda">
    <div class="table-responsive">
        <table class="table table-condensed table-bordered" ng-show="agenda.length">
            <thead>
                <tr>
                    <th>Matricola</th>
                    <th>Cognome e Nome</th>
                    <th>Presenze</th>
                </tr>
            </thead>
            <tbody ng-repeat="student in studTot">
                <!-- Single event in a single day -->
                <tr ng-if="student.presTot.length <= 1">
                    <td class="agenda-date" class="active" colspan="{{ student.presTot?1:3  }}">
                        {{student.matr}}
                    </td>
                    <td>
                         {{student.surname}} {{student.name}}
                    </td>
                    <td ng-if="student.presTot.length" class="agenda-events">
                        <div class="agenda-event">
                            {{ student.presTot[0].title }} <span ng-show="student.presTot[0].hours">-</span>
                            {{ student.presTot[0].hours }} <span ng-show="student.presTot[0].description">-</span>
                            {{ student.presTot[0].description }}
                            <div class="text-right">
                                <button class="btn btn-sm btn-info"  ng-click="showEvent($index, 0)">Modifica</button>
                                <button class="btn btn-sm btn-danger" ng-click="deleteEvent($index, 0)">Cancella</button>
                          </div>
                        </div>
                    </td>
                </tr>
                <tr ng-if="student.presTot.length  > 1" ng-repeat="presence in student.presTot">
                    <td class="agenda-date" class="active" rowspan="{{ student.presTot.length }}" ng-if="$index == 0">
                       {{student.matr}}
                    </td>
                    <td class="agenda-time">
                        {{student.surname}} {{student.name}}
                    </td>
                    <td class="agenda-events">
                        <div class="agenda-event">
                           {{ student.presTot[0].title }} <span ng-show="student.presTot[0].hours">-</span>
                            {{ student.presTot[0].hours }} <span ng-show="student.presTot[0].description">-</span>
                            {{ student.presTot[0].description }}
                            <div class="text-right">
                                <button class="btn btn-sm btn-info"  ng-click="showEvent($parent.$index, $index)">Modifica</button>
                                <button class="btn btn-sm btn-danger" ng-click="deleteEvent($parent.$index, $index)">Cancella</button>
                          </div>
                        </div>
                    </td>
                </tr>
            </tbody>
            
            
            
            
            
            
            
            
            
            
            
            <tbody ng-repeat="student in students">
                <!-- Single event in a single day -->
                <tr ng-if="student.presences.length <= 1">
                    <td class="agenda-date" class="active" colspan="{{ student.preseces.length?1:3  }}">

                    </td>
                    <td ng-if="student.presences.length" class="agenda-time">

                    </td>
                    <td ng-if="student.presences.length" class="agenda-events">
                        <div class="agenda-event">
                            {{ day.events[0].teacher }} <span ng-show="day.events[0].lesson">-</span>
                            {{ day.events[0].lesson }} <span ng-show="day.events[0].argument">-</span>
                            {{ day.events[0].argument }}
                            <div class="text-right">
                                <button class="btn btn-sm btn-info"  ng-click="showEvent($index, 0)">Modifica</button>
                                <button class="btn btn-sm btn-danger" ng-click="deleteEvent($index, 0)">Cancella</button>
                          </div>
                        </div>
                    </td>
                </tr>
                <tr ng-if="presence.length > 1" ng-repeat="event in day.events">
                    <td class="agenda-date" class="active" rowspan="{{ day.events.length }}" ng-if="$index == 0">
                       {{student.matr}}
                    </td>
                    <td class="agenda-time">
                        {{student.name}}
                    </td>
                    <td class="agenda-time">
                        {{student.surname}}
                    </td>
                    <td class="agenda-events">
                        <div class="agenda-event">
                            {{ presence.title }} <span ng-show="presence.hours">-</span>
                            {{ presence.hours }} <span ng-show="presence.description">-</span>
                            {{ presence.description }}
                            <div class="text-right">
                                <button class="btn btn-sm btn-info"  ng-click="showPresence($parent.$index, $index)">Modifica</button>
                                <button class="btn btn-sm btn-danger" ng-click="deletePresence($parent.$index, $index)">Cancella</button>
                          </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2>FORM DI CREAZIONE E MODIFICA DATA DI CALENDARIO</h2>
</div>